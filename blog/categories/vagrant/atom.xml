<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Vagrant | Almost Automatic]]></title>
  <link href="http://johker.github.io/blog/categories/vagrant/atom.xml" rel="self"/>
  <link href="http://johker.github.io/"/>
  <updated>2014-04-19T16:20:59+00:00</updated>
  <id>http://johker.github.io/</id>
  <author>
    <name><![CDATA[Johannes Kern]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[A very basic Octopress setup using Vagrant]]></title>
    <link href="http://johker.github.io/blog/2014/04/19/a-very-basic-octopress-setup-using-vagrant/"/>
    <updated>2014-04-19T10:39:13+00:00</updated>
    <id>http://johker.github.io/blog/2014/04/19/a-very-basic-octopress-setup-using-vagrant</id>
    <content type="html"><![CDATA[<p>Setting up Octopress can be tricky, especially on Windows systems. Using a Vagrant powered virtual machine instead we are only one command away from a blogging environment ready-to-go. Run from the directory of the Vagrantfile <code>vagrant up</code> will create a VirtualBox Image with Ubuntu 12.04 LTS.</p>

<p>``` ruby Vagrantfile <a href="https://github.com/johker/octopress_vagrant/blob/master/Vagrantfile">https://github.com/johker/octopress_vagrant/blob/master/Vagrantfile</a> github
VAGRANTFILE_API_VERSION = &ldquo;2&rdquo;</p>

<p>Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|</p>

<pre><code>config.vm.box_url = "http://puppet-vagrant-boxes.puppetlabs.com/ubuntu-server-12042-x64-vbox4210.box"

config.vm.network :private_network, ip: "192.168.34.10"

config.vm.provider "virtualbox" do |v|
    v.memory = 2048
end
</code></pre>

<h1>Install octopress</h1>

<p>config.vm.provision :shell, :path => &ldquo;scripts/octopress.sh&rdquo;</p>

<h1>Sync posts folder</h1>

<p>config.vm.synced_folder &ldquo;posts/&rdquo;, &ldquo;/opt/octopress/source/_posts/&rdquo;</p>

<p>end</p>

<p>```</p>

<p>The actual installation is done by shell provisioning. <code>octopress.sh</code> has to be included in the scripts folder relative to the Vagrantfile. It installs git, ruby and grants access to the default user <code>vagrant</code>.</p>

<p>``` bash octopress.sh <a href="https://github.com/johker/octopress_vagrant/blob/master/scripts/octopress.sh">https://github.com/johker/octopress_vagrant/blob/master/scripts/octopress.sh</a> github</p>

<h1>!/bin/bash</h1>

<p>sudo apt-get -y update</p>

<p>sudo apt-get -y install curl</p>

<p>\curl -L <a href="https://get.rvm.io">https://get.rvm.io</a> | bash -s stable</p>

<p>source ~/.rvm/scripts/rvm</p>

<p>rvm install ruby</p>

<p>rvm use ruby &mdash;default</p>

<p>sudo chown -R vagrant /opt</p>

<p>cd /opt</p>

<p>sudo apt-get install -y git-core</p>

<p>git clone git://github.com/imathis/octopress.git</p>

<p>cd /opt/octopress</p>

<p>gem install bundler</p>

<h1>sudo apt-get bundler install</h1>

<p>bundle install</p>

<p>rake install</p>

<p>sudo chown -R vagrant /opt/octopress
```</p>

<p>Only thing left is to create a posts folder which is used to access the markdown files generated by <code>rake new_post</code> with an IDE from the host system. Any changes will be synchronized automatically. The complete project can be found <a href="https://github.com/johker/octopress_vagrant">here</a>.</p>
]]></content>
  </entry>
  
</feed>
